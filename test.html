<!DOCTYPE html>
<html>

<head>
  <title>连续扫码系统</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      text-align: center;
      background-color: #f5f5f5;
    }

    .container {
      max-width: 500px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    h1 {
      color: #2e7d32;
      margin-bottom: 25px;
    }

    input {
      width: 100%;
      padding: 15px;
      font-size: 20px;
      text-align: center;
      border: 2px solid #4caf50;
      border-radius: 5px;
      outline: none;
      margin-bottom: 20px;
      box-sizing: border-box;
    }

    input:focus {
      border-color: #1b5e20;
      box-shadow: 0 0 0 3px rgba(27, 94, 32, 0.2);
    }

    .status {
      padding: 15px;
      margin-top: 15px;
      border-radius: 5px;
      font-weight: bold;
      font-size: 18px;
      min-height: 30px;
    }

    .success {
      background-color: #e8f5e9;
      color: #1b5e20;
    }

    .instructions {
      margin-top: 25px;
      color: #555;
      font-style: italic;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>条码扫描系统</h1>
    <input type="text" id="scanInput" autofocus placeholder="扫描条码（完成后自动回车）">
    <div id="status" class="status"></div>
    <div class="instructions">
      <p>✅ 扫描后自动回车，系统会自动处理</p>
      <p>✅ 处理完成后输入框自动清空并重新聚焦</p>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const scanInput = document.getElementById('scanInput');
      const statusDiv = document.getElementById('status');

      // 重置状态
      function resetStatus() {
        statusDiv.textContent = '';
        statusDiv.className = 'status';
      }

      // 处理扫码事件
      function handleScan(data) {
        // 模拟处理扫码数据（实际业务逻辑放这里）
        console.log('扫描成功:', data);

        // 显示成功状态
        statusDiv.textContent = `已扫描: ${data}`;
        statusDiv.className = 'status success';

        // 清空输入框
        scanInput.value = '';

        // 重新聚焦输入框（关键！确保下一次扫描直接输入）
        scanInput.focus();

        // 1秒后自动清除状态（可选）
        setTimeout(resetStatus, 1000);
      }

      // 监听回车键（扫描枪标准行为）
      scanInput.addEventListener('keydown', function (e) {
        if (e.key === 'Enter') {
          const data = this.value.trim();

          if (data) {
            handleScan(data);
          }

          // 阻止回车默认行为
          e.preventDefault();
        }
      });

      // 添加辅助提示（防止用户误操作）
      document.addEventListener('click', function () {
        if (document.activeElement !== scanInput) {
          scanInput.focus();
        }
      });
    });
  </script>
</body>

</html>